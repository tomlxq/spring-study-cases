获取redis资源
wget http://download.redis.io/releases/redis-5.0.4.tar.gz
解压
tar -zxvf redis-5.0.4.tar.gz
安装
make MALLOC=libc
make test 
make install PREFIX=/opt/redis
移动配置文件到安装目录下
cd ../redis/
cp ../redis-5.0.4/redis.conf ./
配置redis为后台启动
vi ../redis.conf 
daemonize yes
将redis加入到开机启动
vi /etc/rc.local //在里面添加内容：
/opt/redis/bin/redis-server /opt/redis/redis.conf (意思就是开机调用这段开启redis的命令)

启动redis
./redis-server ../redis.conf 

停止redis
pkill redis  

常用命令的使用
./redis-cli -h 127.0.0.1 -p 6379
选择那个数据库
select 0

## 字符操作
访问key
keys tom:jack
匹配单个字符？
keys t?m
匹配多个字符*
keys tom*
查看key的数据结构
type tom
set hello world
get hello
原子递增
set tom:age 18
incr tom:age
原子递增指定的整数
incrby tom:age 5
原子递减
decr tom:age
decrby tom:age 4
对原来的内容附加
append hello -tom
get hello
获取字符串长度
strlen hello
获取多个值
mget tom:age hello hell
1) "19"
2) "world-tom"
3) "-tom"
同时设置多个keys
mset tom:age 18 hello "hello,world" hell "go to the hell!"
OK
mget tom:age hello hell
1) "18"
2) "hello,world"
3) "go to the hell!"

## 列表操作，实现分布式队列

lpush/rpush存数据
lpush num 18
lpush num 19 20
rpush num 17
【20 19 18 17】

rpop/lpop取数据
lpop num
"20"
lpop num
"19"
rpop num
"17"
rpop num
"18"

获得长度
llen num

lrange获取一定范围的数据
lpush num 12 14 16 18
rpush 22 24 26 28 30
lrange num 0 3
1) "18"
2) "16"
3) "14"
4) "12"
lrange num 0 -1 -1表示最右边的第一个元素
1) "18"
2) "16"
3) "14"
4) "12"
lrem删除元素
lrem num 1 18
lrange num 0 -1
1) "16"
2) "14"
3) "12"
lset改变某个值
lrange num 0 -1
1) "16"
2) "14"
3) "12"
lset num 1 100
lrange num 0 -1
1) "16"
2) "100"
3) "12"

安装过程可能出现的问题：

1. 安装镜象
mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo_bak
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo

2. Another app is currently holding the yum lock; waiting for it to exit...
rm -f /var/run/yum.pid

3. 解决安装redis时报错/bin/sh: cc: command not found
CentOS5.7默认没有安装gcc，这会导致我们无法make成功。使用yum安装：
yum install gcc-c++

4. make时报如下错误：
zmalloc.h:50:31: error: jemalloc/jemalloc.h: No such file or directory
zmalloc.h:55:2: error: #error "Newer version of jemalloc required"
make[1]: *** [adlist.o] Error 1
make[1]: Leaving directory `/data0/src/redis-2.6.2/src'
make: *** [all] Error 2
原因是jemalloc重载了Linux下的ANSI C的malloc和free函数。解决办法：make时添加参数。
make MALLOC=libc
make之后，会出现一句提示
Hint: To run 'make test' is a good idea ;) 
但是不测试，通常是可以使用的。

5. 若我们运行make test ，会有如下提示
make test
You need tcl 8.5 or newer in order to run the Redis test
make: ***[test] Error_1
解决办法是用yum安装tcl8.5（或去tcl的官方网站http://www.tcl.tk/下载8.5版本，并参考官网介绍进行安装）
yum install tcl