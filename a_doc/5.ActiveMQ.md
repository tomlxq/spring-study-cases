1. 异步消息
2. 应用解耦
3. 流量消锋
wget https://www-us.apache.org/dist//activemq/5.15.8/apache-activemq-5.15.8-bin.tar.gz
tar -zxvf apache-activemq-5.15.8-bin.tar.gz 
cd /opt/apache-activemq-5.15.8/bin
sh activemq start
ps -ef | grep activemq


conf/jetty.xml 

    <bean id="jettyPort" class="org.apache.activemq.web.WebConsolePort" init-method="start">
             <!-- the default port number for the web console -->
        <property name="host" value="0.0.0.0"/>
        <property name="port" value="8161"/>
    </bean>
http://192.168.238.105:8161/

jms java message service
mom message oriented middleware


conf/activemq.xml 
<transportConnectors>
<!-- DOS protection, limit concurrent connections to 1000 and frame size to 100MB -->
<transportConnector name="openwire" uri="tcp://0.0.0.0:61616?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600"/>
<transportConnector name="amqp" uri="amqp://0.0.0.0:5672?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600"/>
<transportConnector name="stomp" uri="stomp://0.0.0.0:61613?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600"/>
<transportConnector name="mqtt" uri="mqtt://0.0.0.0:1883?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600"/>
<transportConnector name="ws" uri="ws://0.0.0.0:61614?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600"/>
</transportConnectors>

基于tcp的就是61616

TextMessage textMessage = session.createTextMessage("hello,world");
textMessage.setStringProperty("key","value");
producer.send(textMessage);
            
TextMessage receive = (TextMessage)consumer.receive();
System.out.println(receive.getText());
System.out.println("ke y=>"+receive.getStringProperty("key"));            

 Session session = connection.createSession(Boolean.FALSE, Session.CLIENT_ACKNOWLEDGE);
 receive.acknowledge();
 
 
MessageProducer producer = session.createProducer(destination);
for(int i=0;i<10;i++) {
 TextMessage textMessage = session.createTextMessage("hello,world" + i);
 producer.send(textMessage);
}

 for (int i = 0; i < 10; i++) {
        TextMessage receive = (TextMessage) consumer.receive();
        System.out.println(receive.getText());
        if (i == 5) {
            receive.acknowledge();
        }
}